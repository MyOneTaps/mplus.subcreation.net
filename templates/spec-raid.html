{% extends "base-raid.html" %}
{% set page_type = "raid-spec" %}

{% block content %}
<div class="container-fluid">
  <div class="row">
<div class="col-12 py-3">
<h1><img src="images/specs/{{spec_slug}}.jpg" /> {{spec}} ({{difficulty}} {{encounter_pretty}})</h1>
<i>Top talents, essences, azerite, and gear based on data from the top {{n_parses}} {{difficulty}} {{encounter_pretty}} logs from the past 4 weeks.</i>
</div>
  </div>

        <nav class="boss-nav navbar navbar-expand">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="nav mx-auto justify-content-center text-center text-light">
                <li class="nav-item{{ ' active' if encounter == "all" and difficulty == "Heroic" else '' }}">
                        <a class="nav-link" href="{{prefix}}{{spec_slug}}.html"><img src="images/bosses/nyalotha/nyalotha.jpg" alt="Heroic" title="All Bosses (Heroic)"></a><span>Heroic</span>
                    </li>

                {% for e in raid_canonical_order %}
                    <li class="nav-item{{ ' active' if encounter_slugs[e] in active_page and difficulty == "Heroic" else '' }}">
                        <a class="nav-link" href="{{prefix}}{{spec_slug}}-{{encounter_slugs[e]}}.html"><img src="images/bosses/nyalotha/{{encounter_slugs[e]}}.jpg" alt="{{e}}" title="{{e}}"></a><span>{{raid_short_names[e]}}</span>
                    </li>
                {% endfor %}

                </ul>
            </div>
        </nav>
            <nav class="boss-nav navbar navbar-expand">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="nav mx-auto justify-content-center text-center text-light">
                <li class="nav-item{{ ' active' if encounter == "all" and difficulty == "Mythic" else '' }}">
                        <a class="nav-link" href="{{prefix}}{{spec_slug}}-mythic.html"><img src="images/bosses/nyalotha/mythic.jpg" alt="Mythic" title="All Bosses (Mythic)"></a><span>Mythic</span>
                    </li>

                {% for e in raid_canonical_order %}
                    <li class="nav-item{{ ' active' if encounter_slugs[e] in active_page and difficulty == "Mythic" else '' }}">
                        <a class="nav-link" href="{{prefix}}{{spec_slug}}-{{encounter_slugs[e]}}-mythic.html"><img src="images/bosses/nyalotha/{{encounter_slugs[e]}}.jpg" alt="{{e}}" title="{{e}}"></a><span>{{raid_short_names[e]}}</span>
                    </li>
                {% endfor %}

                </ul>
            </div>
        </nav>
  
{% if n_parses > 0 %}


  <div class="row">


{% import 'spec_overview_table.html' as spec_overview_table %}

{{ spec_overview_table.spec_overview_table("col-xl-7 col-lg-7", "Talent Builds", "Talents", talents, spells, "spell", n_parses, anchor_id="talents") }}

{{ spec_overview_table.spec_overview_table("col-xl-5 col-lg-5", "Essence Builds", "Major + Minors", essences, spells, "spell", n_parses, offset_first="&nbsp;", offset_at = [0], anchor_id="essences") }}

{{ spec_overview_table.spec_overview_table("col-xl-7 col-lg-7", "Primary Azerite", "Azerite Traits", primary, spells, "spell", n_parses, anchor_id="primary") }}

{{ spec_overview_table.spec_overview_table("col-xl-5 col-lg-5", "Role Azerite", "Azerite Traits", role, spells, "spell", n_parses, anchor_id="role") }}

{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Defensive Azerite", "Azerite Traits", defensive, spells, "spell", n_parses, anchor_id="defensive") }}

{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Azerite Gear", "Helm, Shoulder, Chest", hsc, items, "item", n_parses, anchor_id="azerite") }}

{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Weapons", "Item(s)", gear["weapons"], items, "item", n_parses, anchor_id="weapons") }}   
{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Trinkets", "Items", gear["trinkets"], items, "item", n_parses, anchor_id="trinkets") }}

{# season 3 only since evreyone will have legendary cloak #}
{# maybe replace with corruption level? #}
{# spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Cloaks", "Item", gear["cloaks"], items, "item", n_parses) #}

{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Rings", "Items", gear["rings"], items, "item", n_parses, anchor_id="rings") }}

{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Helms", "Item", gear["helms"], items, "item", n_parses, anchor_id="helms") }}
{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Shoulders", "Item", gear["shoulders"], items, "item", n_parses, anchor_id="shoulders") }}
{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Chests", "Item", gear["chests"], items, "item", n_parses, anchor_id="chests") }}
{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Belts", "Item", gear["belts"], items, "item", n_parses, anchor_id="belts") }}
{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Legs", "Item", gear["legs"], items, "item", n_parses, anchor_id="legs") }}
{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Feet", "Item", gear["feet"], items, "item", n_parses, anchor_id="feet") }}
{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Wrists", "Item", gear["wrists"], items, "item", n_parses, anchor_id="wrists") }}
{{ spec_overview_table.spec_overview_table("col-xl-4 col-lg-6", "Gloves", "Item", gear["gloves"], items, "item", n_parses, anchor_id="gloves") }}

{{ spec_overview_table.spec_overview_table("col-xl-12 col-lg-12", "Talent / Essence / Primary Azerite Combinations", "Combination", tea, spells, "spell", n_parses, offset_first="&nbsp;", offset_at = [6,10], anchor_id="tea") }}

  </div>
</div>

{% else %}

<div class="alert alert-warning">
<h3>
  No public parses available yet for {{spec}} ({{difficulty}} {{encounter_pretty}})
</h3>
</div>

{% endif %}

{% endblock content %}
